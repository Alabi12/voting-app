<!-- app/views/developer/index.html.erb -->
<h1>Assign Roles to Users</h1>

<table>
  <thead>
    <tr>
      <th>User Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <td><%= user.admin? ? 'Admin' : 'Voter' %></td>
        <td>
          <%= form_with url: assign_role_path(user), method: :patch do %>
            <select name="role">
              <option value="admin" <%= 'selected' if user.admin? %>>Admin</option>
              <option value="voter" <%= 'selected' unless user.admin? %>>Voter</option>
            </select>
            <%= submit_tag 'Update Role' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
